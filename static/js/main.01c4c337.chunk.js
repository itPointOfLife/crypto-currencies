(this["webpackJsonpcrypto-converter"]=this["webpackJsonpcrypto-converter"]||[]).push([[0],{64:function(e,a,t){e.exports=t(91)},69:function(e,a,t){},91:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),o=t.n(c),l=(t(69),t(33)),u=t.n(l),m=t(41),i=t(19),s=t(141),p=t(142),E=t(143),y=t(133),d=t(137),C=t(136),f=t(128),g=t(134),h=t(135),R=t(132),N=function(e){var a=e.currencies,t=e.colors,n=e.handleClickRow;return r.a.createElement(f.a,{component:R.a},r.a.createElement(y.a,{className:"table","aria-label":"simple table"},r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement(C.a,null),r.a.createElement(C.a,{align:"left"},"Name"),r.a.createElement(C.a,{align:"left"},"Full Name"),r.a.createElement(C.a,{align:"left"},"Price"),r.a.createElement(C.a,{align:"left"},"Volume 24 Hour"))),r.a.createElement(d.a,null,a.map((function(e,a){return r.a.createElement(h.a,{hover:!0,className:"row-currency",key:e.name,onClick:function(){return n(e.name)}},r.a.createElement(C.a,null,r.a.createElement("img",{className:"currency-icon",src:e.imageUrl,alt:"Coin icon"})),r.a.createElement(C.a,{align:"left"},e.name),r.a.createElement(C.a,{align:"left"},e.fullName),r.a.createElement(C.a,{className:t.length&&t[a]?t[a]+"-column":"",align:"left"},"$"+e.price),r.a.createElement(C.a,{align:"left"},e.volume24Hour))})))))},b=t(147),v=t(145),T=t(138),O=t(148),_=t(146),U=function(e){var a=e.currencies,t=e.fromCurrency,n=e.toCurrency,c=e.handleChangeFrom,o=e.handleChangeTo,l=e.fromAmount,u=e.toAmount,m=e.onUpdateFromTextField,i=e.onUpdateToTextField;return r.a.createElement(R.a,{className:"paper"},r.a.createElement("div",{className:"crypto-input-box"},r.a.createElement(T.a,{className:"currency-input"},r.a.createElement(b.a,{type:"number",label:"\u0421\u0443\u043c\u043c\u0430",value:l,onChange:m})),r.a.createElement(T.a,{className:"currency-type"},r.a.createElement(O.a,{shrink:!0,id:"demo-simple-select-label"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(v.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:c},a.map((function(e){return r.a.createElement(_.a,{key:e.name+e.fullName,value:e.name},e.name)}))))),r.a.createElement("div",{className:"crypto-input-box"},r.a.createElement(T.a,{className:"currency-input"},r.a.createElement(b.a,{type:"number",label:"\u0421\u0443\u043c\u043c\u0430",value:u,onChange:i})),r.a.createElement(T.a,{className:"currency-type"},r.a.createElement(O.a,{shrink:!0,id:"demo-simple-select-label"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(v.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:o},a.map((function(e){return r.a.createElement(_.a,{key:e.name+e.price,value:e.name},e.name)}))))))},A=t(144),S=t(10),I=function(e,a){switch(a.type){case"SET_INIT_DATA":return Object(S.a)(Object(S.a)({},e),{},{currencies:a.payload.currencies,fromCurrency:a.payload.fromCurrency,toCurrency:a.payload.toCurrency});case"SET_FROM_CURRENCY":return Object(S.a)(Object(S.a)({},e),{},{fromCurrency:a.payload});case"SET_TO_CURRENCY":return Object(S.a)(Object(S.a)({},e),{},{toCurrency:a.payload});case"SET_AMOUNT":return Object(S.a)(Object(S.a)({},e),{},{amount:a.payload});case"SET_IS_FROM_CURRENCY":return Object(S.a)(Object(S.a)({},e),{},{isFromCurrency:a.payload});case"UPDATE_EXCHANGE_RATE":return Object(S.a)(Object(S.a)({},e),{},{exchangeRate:a.payload});case"SET_CURRENCIES":return Object(S.a)(Object(S.a)({},e),{},{currencies:a.payload});case"UPDATE_CURRENCIES_AND_COLORS":var t=a.payload.getColors(e.currencies,a.payload.data);return t?Object(S.a)(Object(S.a)({},e),{},{colors:t,currencies:a.payload.data}):Object(S.a)(Object(S.a)({},e),{},{currencies:a.payload.data});default:return e}},x=t(55),j=t.n(x),F=function(){return new Promise((function(e,a){j.a.get("https://min-api.cryptocompare.com/data/top/totalvolfull?limit=10&tsym=USD",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type, Authorization"}}).then((function(a){var t=a.data.Data.map((function(e){return{name:e.CoinInfo.Name,fullName:e.CoinInfo.FullName,imageUrl:"https://www.cryptocompare.com/".concat(e.CoinInfo.ImageUrl),price:Number(e.RAW.USD.PRICE.toFixed(3)),volume24Hour:parseInt(e.RAW.USD.VOLUME24HOUR)}}));e(t)})).catch((function(a){a.response?console.log(a.response.headers):a.request?console.log(a.request):console.log(a.message),console.log(a.config),e([])}))}))};var w=function(){var e=r.a.useReducer(I,{currencies:[],colors:[],fromCurrency:"",toCurrency:"",amount:1,isFromCurrency:!0,exchangeRate:0}),a=Object(i.a)(e,2),t=a[0],n=a[1],c=0,o=0;r.a.useEffect((function(){var e=0,a=0;t.currencies.filter((function(n){return n.name===t.fromCurrency&&(e=n.price),n.name===t.toCurrency&&(a=n.price),!1})),n({type:"UPDATE_EXCHANGE_RATE",payload:e/a})}),[t.fromCurrency,t.toCurrency,t.currencies]),t.exchangeRate&&t.amount&&(t.isFromCurrency?(c=t.amount,o=t.amount*t.exchangeRate):(c=t.amount/t.exchangeRate,o=t.amount));var l=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:a=e.sent,console.log("Data has been updated :)"),n({type:"UPDATE_CURRENCIES_AND_COLORS",payload:{data:a,getColors:function(e,a){var t=[];return e.forEach((function(n,r){var c,o,l;n.name!==a[r].name&&(o=a,l="name",(c=e).sort((function(e,a){var t=e[l],n=a[l];return o.findIndex((function(e){return e[l]===t}))>o.findIndex((function(e){return e[l]===n}))?1:-1})),e=c),n.price>a[r].price?t[r]="red":n.price<a[r].price&&(t[r]="green")})),!!t.length&&t}}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:(a=e.sent).length?(n({type:"SET_INIT_DATA",payload:{currencies:a,fromCurrency:a[0].name,toCurrency:a[1].name}}),setInterval(l,3e4)):n({type:"SET_CURRENCIES",payload:a});case 4:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(s.a,{maxWidth:"lg"},r.a.createElement(p.a,{container:!0,spacing:3,className:t.currencies.length?"":"preloader-container"},t.currencies.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{item:!0,xs:8},r.a.createElement(E.a,{align:"center",variant:"h3",component:"h2",gutterBottom:!0},"Crypto Table"),r.a.createElement(N,{currencies:t.currencies,colors:t.colors,handleClickRow:function(e){n({type:"SET_FROM_CURRENCY",payload:e})}})),r.a.createElement(p.a,{item:!0,xs:4},r.a.createElement(E.a,{className:"converter-typography",align:"center",variant:"h4",component:"h2",gutterBottom:!0},"Converter"),r.a.createElement(U,{currencies:t.currencies,fromCurrency:t.fromCurrency?t.fromCurrency:"",toCurrency:t.toCurrency?t.toCurrency:"",handleChangeFrom:function(e){n({type:"SET_FROM_CURRENCY",payload:e.target.value})},handleChangeTo:function(e){n({type:"SET_TO_CURRENCY",payload:e.target.value})},fromAmount:c,toAmount:o,onUpdateFromTextField:function(e){n({type:"SET_AMOUNT",payload:e.target.value}),n({type:"SET_IS_FROM_CURRENCY",payload:!0})},onUpdateToTextField:function(e){n({type:"SET_AMOUNT",payload:e.target.value}),n({type:"SET_IS_FROM_CURRENCY",payload:!1})}}))):r.a.createElement(A.a,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.01c4c337.chunk.js.map